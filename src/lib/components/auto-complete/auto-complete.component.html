<div class="w-21rem h-3rem">
    <ng-container *ngIf="autoCompleteColumnConfig.multiple;else autoComplete">
        <div [formGroup]="form" class="p-field p-fluid">
            <label class="font-bold	text-base text-black-alpha-80">{{autoCompleteColumnConfig?.label}}
            </label>
            <p-multiSelect #autoCompleteDpMultiple [formControlName]="autoCompleteColumnConfig.name"
                (onClear)="sortOptions()" [id]="'autoComplete_' + '_column_' + autoCompleteColumnConfig.name"
                [filter]="true" (onFilter)="autoCompleteSearch($event)" [options]="autoCompleteColumnConfig?.options"
                (onChange)="onSelectAutoComplete($event)" (onPanelHide)="onPanelHide()" [showClear]="true" appendTo="body"
                [optionLabel]="autoCompleteColumnConfig.optionLabel ?  autoCompleteColumnConfig.optionLabel : 'name'"
                [optionValue]="autoCompleteColumnConfig.optionValue ?  autoCompleteColumnConfig.optionValue : 'name'"
                [placeholder]="autoCompleteColumnConfig.placeholder">
            </p-multiSelect>
            <label
                *ngIf="form.controls[autoCompleteColumnConfig.name].hasError('required') && form.controls[autoCompleteColumnConfig.name].touched"
                class="text-xs error"> This field is required </label>
        </div>
    </ng-container>
    <ng-template #autoComplete>
        <div [formGroup]="form" class="p-field p-fluid">
            <label class="font-bold	text-base text-black-alpha-80">{{autoCompleteColumnConfig?.label}} </label>
            <p-autoComplete #autoCompleteDp [formControlName]="autoCompleteColumnConfig.name" (onClear)="sortOptions()"
                [placeholder]="autoCompleteColumnConfig.placeholder" [suggestions]="autoCompleteResult"
                (completeMethod)="autoCompleteSearch($event)" field="value" (onUnselect)="onSelectAutoComplete( $event)"
                (onSelect)="onSelectAutoComplete($event)" (onClear)="onSelectAutoComplete($event)"
                [options]="autoCompleteColumnConfig?.options" appendTo="body"
                [multiple]="autoCompleteColumnConfig.multiple" [showEmptyMessage]="true"
                [optionLabel]="autoCompleteColumnConfig.optionLabel ?  autoCompleteColumnConfig.optionLabel : 'name'"
                [optionValue]="autoCompleteColumnConfig.optionValue?  autoCompleteColumnConfig.optionValue : 'name'">
            </p-autoComplete>
            <label
                *ngIf="form.controls[autoCompleteColumnConfig.name].hasError('required') && form.controls[autoCompleteColumnConfig.name].touched"
                class="text-xs error"> This field is required </label>
        </div>
    </ng-template>
</div>